{"version":3,"file":"static/js/793.7b6eb0dc.chunk.js","mappings":"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","sources":["Fetch.jsx","webpack://react-homework-template/./src/components/loader/Loader.module.css?198e","components/loader/Loader.jsx","webpack://react-homework-template/./src/pages/movieDetails/MovieDetails.module.css?3b61","pages/movieDetails/MovieDetails.jsx"],"sourcesContent":["import axios from \"axios\";\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\nconst KEY = 'b889b1f15800992b1379ee4939d9484c';\n\nexport const getTrendingMovies = async () => {\n  const query = `trending/movie/day?api_key=${KEY}`;\n  const { data: movies } = await axios.get(query);\n  return movies;\n};\n\nexport const searchMovies = async searchParam => {\n  const query = `search/movie?api_key=${KEY}&page=1&query=${searchParam}`;\n  const { data: movies } = await axios.get(query);\n  return movies;\n};\n\nexport const getMovieDetails = async movieId => {\n  const query = `movie/${movieId}$?api_key=${KEY}`;\n  const { data: movie } = await axios.get(query);\n  return movie;\n};\n\nexport const getMovieCast = async movieId => {\n  const query = `movie/${movieId}/credits?api_key=${KEY}`;\n  const { data } = await axios.get(query);\n  return data;\n};\n\nexport const getReviews = async movieId => {\n  const query = `movie/${movieId}/reviews?api_key=${KEY}`;\n  const { data } = await axios.get(query);\n  return data;\n};\n\n\n","// extracted by mini-css-extract-plugin\nexport default {\"backdrop\":\"Loader_backdrop__oBk0y\",\"loader\":\"Loader_loader__Iv4Mh\"};","import React from 'react';\nimport css from './Loader.module.css';\n\nexport default function Loader() {\n  return (\n    <div className={css.backdrop}>\n      <div className={css.loader}></div>\n    </div>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MovieDetails_container__uHDv9\",\"movieDetails\":\"MovieDetails_movieDetails__YUgVh\",\"boxInfo\":\"MovieDetails_boxInfo__xj6pe\",\"movieTitle\":\"MovieDetails_movieTitle__6eeeW\",\"rating\":\"MovieDetails_rating__N8XuD\",\"voteRating\":\"MovieDetails_voteRating__FVEmX\",\"genreContainer\":\"MovieDetails_genreContainer__awY93\",\"genreTag\":\"MovieDetails_genreTag__vDNW3\",\"genreName\":\"MovieDetails_genreName__VxLkt\",\"overviewTag\":\"MovieDetails_overviewTag__C5w8N\",\"movieOverview\":\"MovieDetails_movieOverview__LUJ1v\",\"addInfoTitle\":\"MovieDetails_addInfoTitle__9tGx0\",\"returnBtn\":\"MovieDetails_returnBtn__bY8nP\",\"boxAddInfo\":\"MovieDetails_boxAddInfo__9H+2x\",\"castLink\":\"MovieDetails_castLink__hiMcS\",\"reviewLink\":\"MovieDetails_reviewLink__Cdcg0\"};","import { Outlet, useParams, useNavigate, Link, useLocation } from 'react-router-dom';\nimport { useState, useEffect, Suspense } from 'react';\nimport { getMovieDetails } from '../../Fetch.jsx';\nimport Loader from 'components/loader/Loader';\nimport noImg from '..//..//images/No_image.jpg';\nimport css from './MovieDetails.module.css';\n\n\nexport default function MovieDetails() {\n  const [movie, setMovie] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const { movieId } = useParams();\n  const navigate = useNavigate();\n\n  const location = useLocation();\n  const from = location.state?.from || '/';\n\n  useEffect(() => {\n    const movieDetails = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n\n        const result = await getMovieDetails(movieId);\n        setMovie(result);\n      } catch (e) {\n        setError(e);\n      } finally {\n        setLoading(false);\n      }\n    };\n    movieDetails();\n  }, [movieId]);\n\n  const goBack = () => navigate(from || '/');\n  const isCastDetails = location.pathname.includes('cast');\n  const castLink = isCastDetails\n    ? `/movies/${movieId}`\n    : `/movies/${movieId}/cast`;\n  const isReviewDetails = location.pathname.includes('reviews');\n  const reviewLink = isReviewDetails\n    ? `/movies/${movieId}`\n    : `/movies/${movieId}/reviews`;\n\n  return (\n    <div className={css.container}>\n      <button className={css.returnBtn} onClick={goBack}>\n        Go back\n      </button>\n      {loading && <Loader />}\n      {error && <p>Something went wrong</p>}\n      {movie && (\n        <div className={css.movieDetails}>\n          <div className={css.boxImg}>\n            <img\n              className={css.img}\n              src={\n                movie.poster_path\n                  ? `https://image.tmdb.org/t/p/w500${movie.poster_path}`\n                  : noImg\n              }\n              alt=\"poster\"\n              width=\"\"\n              height=\"\"\n            />\n          </div>\n          <div className={css.boxInfo}>\n            <h2 className={css.movieTitle}>{movie.title}</h2>\n            <p className={css.rating}>\n              Rating:{' '}\n              <span className={css.voteRating}>\n                {`${(movie.vote_average * 10).toFixed(1)}`}%\n              </span>\n            </p>\n            <div className={css.genreContainer}>\n              <h3 className={css.genreTag}>Genres:</h3>\n              <p className={css.genreName}>{`${movie.genres\n                .map(genre => genre.name)\n                .join(' / ')}`}</p>\n            </div>\n\n            <h3 className={css.overviewTag}>Overview</h3>\n            <p className={css.movieOverview}>{`${movie.overview}`}</p>\n\n            <div className={css.boxAddInfo}>\n              <Link\n                className={css.castLink}\n                state={{ from }}\n                to={castLink}\n                replace\n              >\n                Cast\n              </Link>\n              <Link\n                className={css.reviewLink}\n                state={{ from }}\n                to={reviewLink}\n                replace\n              >\n                Reviews\n              </Link>\n            </div>\n          </div>\n        </div>\n      )}\n      <Suspense fallback={<Loader />}>\n        <Outlet />\n      </Suspense>\n    </div>\n  );\n}\n"],"names":["axios","KEY","getTrendingMovies","query","movies","data","searchMovies","searchParam","getMovieDetails","movieId","movie","getMovieCast","getReviews","Loader","className","css","MovieDetails","useState","setMovie","loading","setLoading","error","setError","useParams","navigate","useNavigate","location","useLocation","from","state","useEffect","movieDetails","result","castLink","pathname","includes","reviewLink","onClick","src","poster_path","noImg","alt","width","height","title","vote_average","toFixed","genres","map","genre","name","join","overview","to","replace","Suspense","fallback"],"sourceRoot":""}